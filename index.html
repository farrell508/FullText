<script>
    function updatePreview() {
        const text = document.getElementById("userText").value || "여기에 미리보기 표시";
        const color = document.getElementById("textColor").value;
        const bg = document.getElementById("bgColor").value;
        const size = document.getElementById("fontSize").value;

        let preview = document.getElementById("previewArea");
        let previewText = document.getElementById("previewText");

        preview.style.background = bg;
        previewText.style.color = color;
        previewText.style.fontSize = size + "vw";
        previewText.innerText = text;
    }

    function showText() {
        const text = document.getElementById("userText").value;
        if (!text.trim()) {
            alert("텍스트를 입력하세요!");
            return;
        }
        const color = document.getElementById("textColor").value;
        const bg = document.getElementById("bgColor").value;
        const size = document.getElementById("fontSize").value;

        let display = document.getElementById("displayArea");
        let output = document.getElementById("outputText");

        display.style.background = bg;
        output.style.color = color;
        output.style.fontSize = size + "vw";
        output.innerText = text;

        display.style.display = "flex";
        openFullScreen(display);
    }

    function openFullScreen(elem) {
        if (elem.requestFullscreen) {
            elem.requestFullscreen();
        } else if (elem.webkitRequestFullscreen) {
            elem.webkitRequestFullscreen();
        } else if (elem.msRequestFullscreen) {
            elem.msRequestFullscreen();
        }
    }

    function exitFullScreen() {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
        }
        document.getElementById("displayArea").style.display = "none";
        document.getElementById("outputText").innerText = "";
    }

    // ESC나 다른 방법으로 전체화면이 꺼졌을 때 처리
    document.addEventListener("fullscreenchange", () => {
        if (!document.fullscreenElement) {
            document.getElementById("displayArea").style.display = "none";
            document.getElementById("outputText").innerText = "";
        }
    });

    // 페이지 로드 시 기본 미리보기
    updatePreview();
</script>
